"use strict";(globalThis.webpackChunkros2_book=globalThis.webpackChunkros2_book||[]).push([[253],{1132(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"module2/gazebo-physics-simulation","title":"Gazebo Physics Simulation","description":"Learning Objectives","source":"@site/docs/module2/gazebo-physics-simulation.md","sourceDirName":"module2","slug":"/module2/gazebo-physics-simulation","permalink":"/docs/module2/gazebo-physics-simulation","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module2/gazebo-physics-simulation.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Exercise 6 Solution: Create a URDF for a simple robot","permalink":"/docs/module1/solutions/exercise6_solution"},"next":{"title":"Gazebo Physics Simulation","permalink":"/docs/module2/gazebo-physics-simulation"}}');var a=i(4848),l=i(8453);const o={sidebar_position:1},r="Gazebo Physics Simulation",t={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Introduction to Gazebo Physics",id:"introduction-to-gazebo-physics",level:2},{value:"Key Physics Concepts in Gazebo:",id:"key-physics-concepts-in-gazebo",level:3},{value:"Setting Up Physics in Gazebo",id:"setting-up-physics-in-gazebo",level:2},{value:"Physics Engine Configuration",id:"physics-engine-configuration",level:3},{value:"Gravity Parameters",id:"gravity-parameters",level:3},{value:"Collision Detection",id:"collision-detection",level:3},{value:"Creating Basic Physics Examples",id:"creating-basic-physics-examples",level:2},{value:"Basic Physics World Example",id:"basic-physics-world-example",level:3},{value:"Simple Box Model",id:"simple-box-model",level:3},{value:"Running Physics Simulations",id:"running-physics-simulations",level:2},{value:"Launching a Physics World",id:"launching-a-physics-world",level:3},{value:"Testing Different Gravity Parameters",id:"testing-different-gravity-parameters",level:3},{value:"Collision Detection Examples",id:"collision-detection-examples",level:2},{value:"Collision Test World",id:"collision-test-world",level:3},{value:"Environment Setup Examples",id:"environment-setup-examples",level:2},{value:"Basic Environment World",id:"basic-environment-world",level:3},{value:"Exercises",id:"exercises",level:2},{value:"Exercise 1: Create a Simple Physics World with a Falling Box",id:"exercise-1-create-a-simple-physics-world-with-a-falling-box",level:3},{value:"Exercise 2: Configure Gravity Parameters for Different Planetary Environments",id:"exercise-2-configure-gravity-parameters-for-different-planetary-environments",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"gazebo-physics-simulation",children:"Gazebo Physics Simulation"})}),"\n",(0,a.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,a.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Understand the fundamental concepts of Gazebo physics simulation"}),"\n",(0,a.jsx)(n.li,{children:"Configure gravity parameters and environmental properties"}),"\n",(0,a.jsx)(n.li,{children:"Set up collision detection and response"}),"\n",(0,a.jsx)(n.li,{children:"Create basic physics-enabled worlds and models"}),"\n",(0,a.jsx)(n.li,{children:"Run and test physics simulations in Gazebo"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsx)(n.p,{children:"Before starting this chapter, you should have:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Basic understanding of robotics concepts"}),"\n",(0,a.jsx)(n.li,{children:"Fundamental knowledge of 3D coordinate systems"}),"\n",(0,a.jsx)(n.li,{children:"Gazebo Classic installed on your system (version 11.x or newer)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"introduction-to-gazebo-physics",children:"Introduction to Gazebo Physics"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo is a 3D dynamic simulator with accurate and efficient physics simulation. It provides the foundation for simulating robots in complex indoor and outdoor environments. The physics engine in Gazebo handles the simulation of rigid body dynamics, contact forces, and collisions."}),"\n",(0,a.jsx)(n.h3,{id:"key-physics-concepts-in-gazebo",children:"Key Physics Concepts in Gazebo:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Physics Engine"}),": Handles the simulation of rigid body dynamics (ODE, Bullet, DART)"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Gravity"}),": Configurable gravitational acceleration affecting all objects"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Collisions"}),": Detection and response to physical contact between objects"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"Materials"}),": Physical properties like friction, restitution, and density"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"setting-up-physics-in-gazebo",children:"Setting Up Physics in Gazebo"}),"\n",(0,a.jsx)(n.h3,{id:"physics-engine-configuration",children:"Physics Engine Configuration"}),"\n",(0,a.jsx)(n.p,{children:"Gazebo supports multiple physics engines, with ODE (Open Dynamics Engine) being the most stable and widely used. The physics engine is configured in the world file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<physics type="ode">\n  <max_step_size>0.001</max_step_size>\n  <real_time_factor>1</real_time_factor>\n  <real_time_update_rate>1000</real_time_update_rate>\n  <gravity>0 0 -9.8</gravity>\n</physics>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"gravity-parameters",children:"Gravity Parameters"}),"\n",(0,a.jsx)(n.p,{children:"Gravity is a crucial aspect of physics simulation. You can configure gravity parameters in your world file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:"<world name=\"gravity_test\">\n  <gravity>0 0 -9.8</gravity>\n  \x3c!-- Earth's gravity: 9.8 m/s\xb2 downward --\x3e\n\n  \x3c!-- Example: Moon's gravity (about 1/6 of Earth's) --\x3e\n  \x3c!-- <gravity>0 0 -1.63</gravity> --\x3e\n\n  \x3c!-- Example: Zero gravity (space environment) --\x3e\n  \x3c!-- <gravity>0 0 0</gravity> --\x3e\n</world>\n"})}),"\n",(0,a.jsx)(n.h3,{id:"collision-detection",children:"Collision Detection"}),"\n",(0,a.jsxs)(n.p,{children:["Collision detection is handled through the ",(0,a.jsx)(n.code,{children:"<collision>"})," element in SDF models. This defines the shape and properties used for detecting contacts:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<collision name="collision">\n  <geometry>\n    <box>\n      <size>1.0 1.0 1.0</size>\n    </box>\n  </geometry>\n  <surface>\n    <friction>\n      <ode>\n        <mu>1.0</mu>\n        <mu2>1.0</mu2>\n      </ode>\n    </friction>\n    <bounce>\n      <restitution_coefficient>0.1</restitution_coefficient>\n      <threshold>100000</threshold>\n    </bounce>\n    <contact>\n      <ode>\n        <soft_cfm>0</soft_cfm>\n        <soft_erp>0.2</soft_erp>\n        <kp>1000000000000.0</kp>\n        <kd>1.0</kd>\n        <max_vel>100.0</max_vel>\n        <min_depth>0.001</min_depth>\n      </ode>\n    </contact>\n  </surface>\n</collision>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"creating-basic-physics-examples",children:"Creating Basic Physics Examples"}),"\n",(0,a.jsx)(n.h3,{id:"basic-physics-world-example",children:"Basic Physics World Example"}),"\n",(0,a.jsx)(n.p,{children:"Here's a complete example of a simple physics world with a ground plane and a falling box:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <world name="basic_physics">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Sun light --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Falling box --\x3e\n    <model name="falling_box">\n      <pose>0 0 2 0 0 0</pose>\n      <static>false</static>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>0.5 0.5 0.5</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>0.5 0.5 0.5</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>1 0 0 1</ambient>\n            <diffuse>1 0 0 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>1.0</mass>\n          <inertia>\n            <ixx>0.041667</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>0.041667</iyy>\n            <iyz>0</iyz>\n            <izz>0.041667</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h3,{id:"simple-box-model",children:"Simple Box Model"}),"\n",(0,a.jsx)(n.p,{children:"Here's an example of a simple box model that can be used in various worlds:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <model name="simple_box">\n    <link name="box_link">\n      <pose>0 0 0.25 0 0 0</pose>\n      <inertial>\n        <mass>1.0</mass>\n        <inertia>\n          <ixx>0.083333</ixx>\n          <ixy>0</ixy>\n          <ixz>0</ixz>\n          <iyy>0.083333</iyy>\n          <iyz>0</iyz>\n          <izz>0.083333</izz>\n        </inertia>\n      </inertial>\n      <collision name="box_collision">\n        <geometry>\n          <box>\n            <size>0.5 0.5 0.5</size>\n          </box>\n        </geometry>\n      </collision>\n      <visual name="box_visual">\n        <geometry>\n          <box>\n            <size>0.5 0.5 0.5</size>\n          </box>\n        </geometry>\n        <material>\n          <ambient>0.8 0.2 0.2 1</ambient>\n          <diffuse>0.8 0.2 0.2 1</diffuse>\n        </material>\n      </visual>\n    </link>\n  </model>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"running-physics-simulations",children:"Running Physics Simulations"}),"\n",(0,a.jsx)(n.h3,{id:"launching-a-physics-world",children:"Launching a Physics World"}),"\n",(0,a.jsx)(n.p,{children:"To launch the basic physics world we created:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Save the world file as ",(0,a.jsx)(n.code,{children:"basic_physics.world"})]}),"\n",(0,a.jsxs)(n.li,{children:["Launch Gazebo with the world file:","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"gazebo basic_physics.world\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"testing-different-gravity-parameters",children:"Testing Different Gravity Parameters"}),"\n",(0,a.jsx)(n.p,{children:"Create a world file to test different gravity settings:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <world name="gravity_comparison">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n    </physics>\n\n    \x3c!-- Earth-like gravity zone --\x3e\n    <gravity>0 0 -9.8</gravity>\n    <model name="earth_box" placement_frame="earth_box::link">\n      <pose>0 0 5 0 0 0</pose>\n      <include>\n        <uri>model://box</uri>\n        <pose>0 0 0 0 0 0</pose>\n      </include>\n    </model>\n\n    \x3c!-- Moon-like gravity zone (simulated with separate model) --\x3e\n    <model name="moon_box" placement_frame="moon_box::link">\n      <pose>2 0 5 0 0 0</pose>\n      <link name="link">\n        <inertial>\n          <mass>1.0</mass>\n          <inertia>\n            <ixx>0.041667</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>0.041667</iyy>\n            <iyz>0</iyz>\n            <izz>0.041667</izz>\n          </inertia>\n        </inertial>\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>0.2 0.2 0.2</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>0.2 0.2 0.2</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0 0 1 1</ambient>\n            <diffuse>0 0 1 1</diffuse>\n          </material>\n        </visual>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"collision-detection-examples",children:"Collision Detection Examples"}),"\n",(0,a.jsx)(n.h3,{id:"collision-test-world",children:"Collision Test World"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <world name="collision_test">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Sun light --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Ramps for collision testing --\x3e\n    <model name="ramp1">\n      <pose>-2 0 0 0 0 0.3</pose>\n      <link name="ramp_link">\n        <collision name="ramp_collision">\n          <geometry>\n            <mesh>\n              <uri>file://media/meshes/ramp.dae</uri>\n            </mesh>\n          </geometry>\n        </collision>\n        <visual name="ramp_visual">\n          <geometry>\n            <mesh>\n              <uri>file://media/meshes/ramp.dae</uri>\n            </mesh>\n          </geometry>\n          <material>\n            <ambient>0.5 0.5 0.5 1</ambient>\n            <diffuse>0.5 0.5 0.5 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>10.0</mass>\n          <inertia>\n            <ixx>1.0</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>1.0</iyy>\n            <iyz>0</iyz>\n            <izz>1.0</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n\n    \x3c!-- Rolling spheres with different materials --\x3e\n    <model name="sphere1">\n      <pose>-2.5 0 1.5 0 0 0</pose>\n      <link name="sphere_link">\n        <collision name="sphere_collision">\n          <geometry>\n            <sphere>\n              <radius>0.1</radius>\n            </sphere>\n          </geometry>\n          <surface>\n            <friction>\n              <ode>\n                <mu>0.1</mu>\n              </ode>\n            </friction>\n          </surface>\n        </collision>\n        <visual name="sphere_visual">\n          <geometry>\n            <sphere>\n              <radius>0.1</radius>\n            </sphere>\n          </geometry>\n          <material>\n            <ambient>1 0 0 1</ambient>\n            <diffuse>1 0 0 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>0.1</mass>\n          <inertia>\n            <ixx>0.0002</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>0.0002</iyy>\n            <iyz>0</iyz>\n            <izz>0.0002</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"environment-setup-examples",children:"Environment Setup Examples"}),"\n",(0,a.jsx)(n.h3,{id:"basic-environment-world",children:"Basic Environment World"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <world name="environment_setup">\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1</real_time_factor>\n      <real_time_update_rate>1000</real_time_update_rate>\n      <gravity>0 0 -9.8</gravity>\n    </physics>\n\n    \x3c!-- Ground plane --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Sun light --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Walls --\x3e\n    <model name="wall1">\n      <pose>5 0 1.5 0 0 0</pose>\n      <link name="wall_link">\n        <collision name="wall_collision">\n          <geometry>\n            <box>\n              <size>0.2 10 3</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="wall_visual">\n          <geometry>\n            <box>\n              <size>0.2 10 3</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0.8 0.8 0.8 1</ambient>\n            <diffuse>0.8 0.8 0.8 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>100.0</mass>\n          <inertia>\n            <ixx>100.0</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>100.0</iyy>\n            <iyz>0</iyz>\n            <izz>100.0</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n\n    \x3c!-- Objects to test physics --\x3e\n    <model name="test_box">\n      <pose>0 0 2 0 0 0</pose>\n      <link name="box_link">\n        <collision name="box_collision">\n          <geometry>\n            <box>\n              <size>0.5 0.5 0.5</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="box_visual">\n          <geometry>\n            <box>\n              <size>0.5 0.5 0.5</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>0 1 0 1</ambient>\n            <diffuse>0 1 0 1</diffuse>\n          </material>\n        </visual>\n        <inertial>\n          <mass>1.0</mass>\n          <inertia>\n            <ixx>0.041667</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>0.041667</iyy>\n            <iyz>0</iyz>\n            <izz>0.041667</izz>\n          </inertia>\n        </inertial>\n      </link>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,a.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,a.jsx)(n.h3,{id:"exercise-1-create-a-simple-physics-world-with-a-falling-box",children:"Exercise 1: Create a Simple Physics World with a Falling Box"}),"\n",(0,a.jsx)(n.p,{children:"Create a world file that contains:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"A ground plane"}),"\n",(0,a.jsx)(n.li,{children:"A box positioned above the ground"}),"\n",(0,a.jsx)(n.li,{children:"Proper physics configuration"}),"\n",(0,a.jsx)(n.li,{children:"The box should fall and land on the ground due to gravity"}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"exercise-2-configure-gravity-parameters-for-different-planetary-environments",children:"Exercise 2: Configure Gravity Parameters for Different Planetary Environments"}),"\n",(0,a.jsx)(n.p,{children:"Create a world that demonstrates how different gravity values affect object motion:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"Use Earth's gravity (9.8 m/s\xb2) in one area"}),"\n",(0,a.jsx)(n.li,{children:"Use Moon's gravity (1.6 m/s\xb2) in another area"}),"\n",(0,a.jsx)(n.li,{children:"Compare the falling speeds of identical objects"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,a.jsx)(n.p,{children:"In this chapter, you learned about the fundamental concepts of Gazebo physics simulation:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"How to configure physics engines and parameters"}),"\n",(0,a.jsx)(n.li,{children:"Setting up gravity with customizable values"}),"\n",(0,a.jsx)(n.li,{children:"Implementing collision detection and response"}),"\n",(0,a.jsx)(n.li,{children:"Creating basic physics-enabled worlds and models"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"These concepts form the foundation for more complex simulations involving robots, sensors, and dynamic environments. The examples provided demonstrate how to create simple but effective physics simulations that can be extended for more complex scenarios."})]})}function m(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453(e,n,i){i.d(n,{R:()=>o,x:()=>r});var s=i(6540);const a={},l=s.createContext(a);function o(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);